-if !(defined? @current_tab)
  - @current_tab = User::TABS["SETTINGS"]
  
#nottags
  #bottomform
    %ul#something2
      %li.lililili Name:
      %li.lililili Username:
      %li.lililili Email:
      %li.lililili Old Password:
      %li.lililili New Password:
      %li.lililili Repeat New Password:
      %li.lililili Email Notifications:
    %form#settings1
      %input.textinput{:placeholder => "Some Guy's Name", :type => "text"}
        %br/
        %input.textinput{:placeholder => "Some Guy's Username", :type => "text"}
          %br/
          %input.textinput{:placeholder => "Some Guy's Email", :type => "text"}
            %br/
            %input.textinput{:placeholder => "Password", :type => "password"}
              %br/
              %input.textinput{:placeholder => "Password", :type => "password"}
                %br/
                %input.textinput{:placeholder => "Password", :type => "password"}
                  %br/
                  %input{:type => "checkbox"}
                    Recruitd newsletter emails?
                    %br/
                    %input{:type => "checkbox"}
                      When you get followed
                      %br/
                      %input{:type => "checkbox"}
                        When you are updated on a job offering
                        %br/
                        %input{:type => "checkbox"}
                          When companies you follow update their feeds
                          %br/
                          %button Update
    :javascript
      function showValue(newValue,number)
      {
        document.getElementById("range"+number).innerHTML=newValue;
      }
  #topform
    %div{:style => "font-size: 30px;left: 110px;position: relative;text-align: left;top: 12px;"} Tags:
    #tags
      #tagcontrol0.tag{:onclick => "deletetag2(0)", :style => "width:270px;"}
        Tag #1
        %input{:max => "10", :min => "0", :onchange => "showValue(this.value,1)", :step => "1", :type => "range", :value => "5"}
          %span#range1 5
          Delete
      %input.differentsearch.moving{:placeholder => "Tag yourself!", :type => "search"}

=render :partial => "shared/update"
#maincontent


:javascript
    var i=2
  $('.moving').bind('keydown', function(e) {
        var $self = $(this),
            dimen = $.extend($self.position(), { 
            width:  $self.outerWidth(),
            height: $self.outerHeight()
        });

        if( e.which === 13 && $.trim(this.value).length ) {
            $('', {
                 class: 'someclass',
         id: 'tagcontrol'+i,
         text: this.value,
                 css: {
                     position:   'relative',
                     width:      '400px',
                     height:     dimen.height,
                     left:       dimen.left,
                     top:        '-30px'
                 }
            }).appendTo($self.parent());
            $('5Delete').appendTo($('div.someclass:last')) ; i+=1
            $self.val('').css('position', 'relative').animate({top: '+=30'}, 200);
        }
    });
:javascript
  function deletetag(i){
                 $('div').remove('#tagcontrol'+i);
                 $('.moving').css('position','relative').animate({top:'-=30'},200);
  }
                                :javascript
  function deletetag2(i){
                 $('div').remove('#tagcontrol'+i);
  }
%script{:src => "js/jquery.simplemodal.js", :type => "text/javascript"}
%script{:src => "js/contact.js", :type => "text/javascript"}
:css
  .ui-autocomplete-category {
    font-weight:bold;
    text-decoration:underline;
    padding: .2em .4em;
    margin: .8em 0 .2em;
    line-height: 1.5;
  }
  .ui-autocomplete{
    position:absolute;
    font-size:14px;
  }
  :javascript
  $.widget( "custom.catcomplete", $.ui.autocomplete, {
    _renderMenu: function( ul, items ) {
      var self = this,
        currentCategory = "";
      $.each( items, function( index, item ) {
        if ( item.category != currentCategory ) {
          ul.append( "" + item.category + "" );
          currentCategory = item.category;
        }
        self._renderItem( ul, item );
      });
    }
  });
  :javascript
  $(function() {
    var data = [
      { label: "anders", category: "" },
      { label: "andreas", category: "" },
      { label: "antal", category: "" },
      { label: "annhhx10", category: "Products" },
      { label: "annk K12", category: "Products" },
      { label: "annttop C13", category: "Products" },
      { label: "anders andersson", category: "People" },
      { label: "andreas andersson", category: "People" },
      { label: "andreas johnson", category: "People" }
    ];
    
    $( ".differentsearch" ).catcomplete({
      delay: 0,
      source: data
    });
  });